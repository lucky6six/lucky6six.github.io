#### 为什么需要编程框架
背景：深度学习应用广泛
问题：算法理论复杂，代码实现工作量大
承上：将算法常用操作封装为组件——方便模型的修改与调整
启下：将共性运算封装（如卷积，池化，激活）——算法优化与加速
总结：抽象了方便的api，将结构模块化。

- 命令式编程：具体代码，执行运算——UI程序，操作系统

- 声明式编程：提供目标，不指定步骤——人工智能，深度学习（优化空间比较大）
>例子：tensorflow（google开源，可应用与异构，分布式）
![[Pasted image 20231101161044.png]]

#### tensorflow中的基本概念
![[Pasted image 20231101163207.png]]


#### 计算图
节点为算子或张量

![[Pasted image 20231101163327.png]]
- 静态图：方便全局优化，性能较高
- 动态图：调试简单，快速开发

#### 算子（操作）
接受张量为输入输出，进行计算。上图中3 4 6行。赋值与计算操作都是算子
![[Pasted image 20231101163625.png]]

#### 张量（tensor）
可以理解为一个指向对应数据内存空间的迭代器引用。（设备不区分cpu，都是0，区分gpu）
![[Pasted image 20231101164043.png]]

#### 变量
计算图中的有状态节点，其输出受到输入、操作、 节点内部已保存状态的共同影响

>张量是TensorFlow中的基本数据类型，表示多维数组。它可以是一个标量（零维数组）、向量（一维数组）、矩阵（二维数组）或更高维的数组。TensorFlow中的所有数据都表示为张量。

>变量是在TensorFlow中定义并可以被训练的张量。在训练模型的过程中，变量的值会不断地发生变化。变量可以通过TensorFlow的优化器来更新，以最小化模型的损失函数。变量的创建可以使用TensorFlow的tf.Variable()函数，通常需要指定一个初始值和一个可选的名称。

因此，变量是张量的一种特殊形式，它具有可训练的属性。当您需要在训练过程中保持某些状态时，可以使用变量来存储这些状态。
#### 会话（session）
计算的执行环境
- 创建：sess = tf.Session()
- 运行：sess.run()
- 释放：sess.close()
>![[Pasted image 20231101164524.png]]

#### 占位符（placeholder）
占位符本身没有初始值，只是在程序中分配了内存。只会在计算图中增加一个节点，只在执行时向其填充数据进行计算，多个数据可以只形成图中的一个节点。
>变量定义了可训练节点，占位符模拟了可变输入。——lz

#### 队列（queue）

### 总结（预测=推理）
![[Pasted image 20231101170328.png]]
#### 用户代码流程实例

![[Pasted image 20231101171229.png]]
简单tensorflow对应流程代码详见<<智能计算系统>>chapter4